---
import Header from '../components/Header.astro';
---
<script>
	import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

	const textElement = document.querySelector(".title-wrapper");
    gsap.fromTo(
        textElement,
        { opacity: 0 },
        { opacity: 1, duration: 1, delay: 1.5 }
    );

    const videoElement = document.querySelector(".bg-video");
    gsap.fromTo(
        videoElement,
        { opacity: 0 },
        { opacity: 1, duration: 1, delay: 1 }
    );

    const videoBlurElement = document.querySelector(".bg-video-blur");
    gsap.fromTo(
        videoBlurElement,
        { opacity: 0 },
        { opacity: 1, duration: 1, delay: 1.5 }
    );

    const heroDotsElement = document.querySelector(".hero-dots");
    gsap.fromTo(
        heroDotsElement,
        { opacity: 0 },
        { opacity: .8, duration: 1, delay: 1.5 }
    );

    const carouselButtonElement = document.querySelectorAll(".carousel-button");
    gsap.fromTo(
        carouselButtonElement,
        { y: "33%", opacity: 0 },
        { y: 0, opacity: 1, duration: 1, delay: 1, stagger: .1, ease: "back.out(3)" },
    );
</script>


<div class="hero-carousel">
    <Header />
    <div class="hero-dots">
    </div>
    <div class="bg-video">
        <video autoplay muted loop class="carousel-media">
            <source src="/videos/hero-minions.mp4" type="video/mp4">
        </video>
        <div class="content-wrapper">
            <div class="title-wrapper">
                <h1 class="title">we create content that entertains</h1>
            </div>
            <div class="carousel-button-wrapper">
                <div class="carousel-buttons">
                    <div class="carousel-button active">
                        <div class="carousel-button-title">
                            Media
                        </div>
                        <div class="carousel-link-wrap">
                            <div class="carousel-link-text active">
                                Learn More
                            </div>
                            <div class="icon-circle-wrap active">
                                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17.5547 7.96875L10.6797 14.8438C10.4453 15.0781 10.0156 15.0781 9.78125 14.8438C9.54688 14.6094 9.54688 14.1797 9.78125 13.9453L15.6016 8.125H0.875C0.523438 8.125 0.25 7.85156 0.25 7.5C0.25 7.1875 0.523438 6.875 0.875 6.875H15.6016L9.78125 1.09375C9.54688 0.859375 9.54688 0.429688 9.78125 0.195312C10.0156 -0.0390625 10.4453 -0.0390625 10.6797 0.195312L17.5547 7.07031C17.7891 7.30469 17.7891 7.73438 17.5547 7.96875Z" fill="#F9FAFB"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-button">
                        <div class="carousel-button-title">
                            Studios
                        </div>
                        <div class="carousel-link-wrap">
                            <div class="carousel-link-text">
                                Learn More
                            </div>
                            <div class="icon-circle-wrap">
                                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17.5547 7.96875L10.6797 14.8438C10.4453 15.0781 10.0156 15.0781 9.78125 14.8438C9.54688 14.6094 9.54688 14.1797 9.78125 13.9453L15.6016 8.125H0.875C0.523438 8.125 0.25 7.85156 0.25 7.5C0.25 7.1875 0.523438 6.875 0.875 6.875H15.6016L9.78125 1.09375C9.54688 0.859375 9.54688 0.429688 9.78125 0.195312C10.0156 -0.0390625 10.4453 -0.0390625 10.6797 0.195312L17.5547 7.07031C17.7891 7.30469 17.7891 7.73438 17.5547 7.96875Z" fill="#F9FAFB"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-button">
                        <div class="carousel-button-title">
                            News
                        </div>
                        <div class="carousel-link-wrap">
                            <div class="carousel-link-text">
                                Learn More
                            </div>
                            <div class="icon-circle-wrap">
                                <div class="icon-wrap">
                                    <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17.5547 7.96875L10.6797 14.8438C10.4453 15.0781 10.0156 15.0781 9.78125 14.8438C9.54688 14.6094 9.54688 14.1797 9.78125 13.9453L15.6016 8.125H0.875C0.523438 8.125 0.25 7.85156 0.25 7.5C0.25 7.1875 0.523438 6.875 0.875 6.875H15.6016L9.78125 1.09375C9.54688 0.859375 9.54688 0.429688 9.78125 0.195312C10.0156 -0.0390625 10.4453 -0.0390625 10.6797 0.195312L17.5547 7.07031C17.7891 7.30469 17.7891 7.73438 17.5547 7.96875Z" fill="#F9FAFB"/>
                                    </svg>                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-button">
                        <div class="carousel-button-title">
                            Destinations &
                            <br/>
                            Experiences
                        </div>
                        <div class="carousel-link-wrap">
                            <div class="carousel-link-text">
                                Learn More
                            </div>
                            <div class="icon-circle-wrap">
                                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17.5547 7.96875L10.6797 14.8438C10.4453 15.0781 10.0156 15.0781 9.78125 14.8438C9.54688 14.6094 9.54688 14.1797 9.78125 13.9453L15.6016 8.125H0.875C0.523438 8.125 0.25 7.85156 0.25 7.5C0.25 7.1875 0.523438 6.875 0.875 6.875H15.6016L9.78125 1.09375C9.54688 0.859375 9.54688 0.429688 9.78125 0.195312C10.0156 -0.0390625 10.4453 -0.0390625 10.6797 0.195312L17.5547 7.07031C17.7891 7.30469 17.7891 7.73438 17.5547 7.96875Z" fill="#F9FAFB"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-fade"></div>
    </div>
    <div class="bg-video-blur">
        <video autoplay muted loop class="carousel-media">
            <source src="/videos/hero-minions.mp4" type="video/mp4">
        </video>
    </div>
</div>

<style>

    .hero-carousel {
        position: relative;
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .content-wrapper {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .hero-dots {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 268px;
        background: url("/svg/dot-gradient.svg");
        z-index: 1;
    }

    .hero-fade {
        display: flex;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 30%;
        background: linear-gradient(180deg, #0a0a0a00 0%, #0a0a0a 100%);
        z-index: 0;
    }

    .bg-video {
        position: absolute;
        object-fit: cover;
        width: 80%;
        height: 80%;
        z-index: 1;
        background: url("/images/hero-fallback-img.jpg");
        background-repeat: no-repeat;
        background-size: cover;
        filter: blur(0px);
        opacity: 0.25;
        border-radius: 12px;
        overflow: hidden;
        border: var(--c-border-alt-primary) 1px solid;
    }

    .bg-video-blur {
        position: absolute;
        object-fit: cover;
        top: 12%;
        width: 80%;
        height: 60%;
        z-index: 0;
        background: url("/images/hero-fallback-img.jpg");
        background-size: cover;
        filter: blur(80px);
        opacity: 1;
    }

    .carousel-media {
        width: 101%;
    }

    h1 {
        color: var(--c-text-primary);
        text-shadow: 0 2px 40px var(--c-bg-secondary);
        letter-spacing: -.9px;
    }

    .title-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        z-index: 2;
        padding: 8px 20px 0px;
        border-radius: 10px;
        height: 75%;
    }

    .carousel-button-wrapper {
        position: relative;
        width: 100%;
        height: 25%;
        display: flex;
        flex-direction: row;
        justify-content: end;
        z-index: 2;
        padding: 1rem;
    }

    .carousel-buttons {
        width: 75%;
        display: flex;
        flex-direction: row;
        gap: .5rem;
        padding: 0 1rem;
        overflow: visible;
    }

    .carousel-button {
        flex: 1;
        border-radius: 8px;
        border: var(--c-border-alt-secondary) 1px solid;
        background-color: var(--c-surface-primary);
        backdrop-filter: blur(16px);
        padding: 1rem 1.5rem 1.25rem 1.5rem;
        opacity: .99;
        cursor: pointer;
        display: flex;
        flex-direction: column;
    }

    .carousel-button.active {
        border: var(--c-border-primary) 1px solid;
    }

    .carousel-button-title {
        flex-grow: 1;
    }

    .carousel-link-wrap {
        display: flex;
        gap: 12px;
        align-items: center;
        font-size: .95rem;
    }

    .carousel-link-text {
        display: none;
    }

    .carousel-link-text.active {
        display: flex;
    }

    .icon-circle-wrap {
        width: 40px;
        height: 40px;
        border-radius: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .icon-circle-wrap.active {
        border: var(--c-icon-secondary) 1px solid;
    }

    .icon-wrap {
        width: 24px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @media (min-width: 1921px) {
		.hero-carousel {
			height: 90vh;
		}

        .bg-video {
            width: 80%;
            height: 75%;
        }
	}
</style>